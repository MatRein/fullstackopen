{"version":3,"sources":["Services/personServices.js","Components/SearchField.js","Components/PersonForm.js","Components/Numbers.js","Components/Message.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","SearchField","searchTerm","handleSearch","value","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Numbers","persons","removeName","filter","person","name","toLowerCase","includes","map","key","number","onClick","Message","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNuber","setTerm","setMessage","useEffect","console","log","dbAction","then","response","data","event","target","preventDefault","some","find","p","window","confirm","setTimeout","PersonObject","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0736da30.chunk.js","sourcesContent":["import axios from 'axios'\r\n//since we use relative URL below this is no longer needed:\r\n// const baseUrl = 'https://fathomless-reaches-61545.herokuapp.com/api/persons'\r\nconst baseUrl = 'api/persons'\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  remove: remove\r\n}","import React from 'react'\r\n\r\nexport default function SearchField({searchTerm, handleSearch}) {\r\n    return (\r\n        <div>\r\n        <form>\r\n            <div>\r\n                Search Name:\r\n                <input \r\n                    value={searchTerm}\r\n                    onChange={handleSearch}\r\n                />\r\n            </div>\r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function PersonForm({addName, newName, handleNameChange, newNumber, handleNumberChange}) {\r\n    return (\r\n        <div>\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          name: \r\n          <input \r\n            value={newName}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>number: \r\n          <input \r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Numbers({persons, searchTerm, removeName}) {\r\n    return (\r\n        <div>\r\n            {persons.filter(person => person.name.toLowerCase().includes(searchTerm.toLowerCase()))\r\n            .map(person => \r\n            <p key={person.name}> \r\n                {`${person.name} ${person.number} `}\r\n                <button onClick = {() => removeName(person.id)}>Delete</button>\r\n            </p>)}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Message({message}) {\r\n    const mystyle = {\r\n        color: \"green\",\r\n        background: \"lightgrey\",\r\n        fontSize: 20,\r\n        borderStyle: \"solid\",\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n      }\r\n      if (message === null) {\r\n        return null\r\n      }\r\n    \r\n      return (\r\n        <div style={mystyle}>\r\n          {message}\r\n        </div>\r\n      )\r\n    }","import React, { useState, useEffect } from 'react'\nimport dbAction from './Services/personServices'\nimport SearchField from './Components/SearchField'\nimport PersonForm from './Components/PersonForm'\nimport Numbers from './Components/Numbers'\nimport Message from './Components/Message'\n\nconst App = () => {\n\n  //dummy data\n  const [ persons, setPersons ] = useState([\n    { name: 'Arto Hellas', number: '040-123456' },\n  ]) \n  //state Hooks\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNuber] = useState('')\n  const [ searchTerm, setTerm] = useState('')\n  const [ message, setMessage] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')    \n    dbAction.getAll()\n    .then(response => {        \n      console.log('promise fulfilled')        \n      setPersons(response.data)      \n    })  }, []) \n\n  //eventHandler\n  const addName = (event) => {\n    event.preventDefault()\n    if(persons.some(person => person.name === newName)){\n      const person = persons.find(p => p.name === newName)\n      // return(alert(`${newName} is already added to phonebook`)) //due to early \"return\" the rest of the function is skipped\n      if (window.confirm(`${person.name} exists already. Do you want to update ${person.name}'s number?`)) { \n        const newObject = {...person, number:newNumber}\n          dbAction.update(person.id, newObject)    \n          .then(response => {      \n            console.log(response)\n            setPersons(persons.map(p => p.id!==person.id ? p : response.data))\n            setNewName('')\n            setNewNuber('')\n            setMessage(`'${person.name}' was updated`)        \n            setTimeout(() => {          \n              setMessage(null)        \n            }, 5000)   \n          })\n  \n      }\n      else console.log(\"Nothing happened\")\n    } \n    else {\n      const PersonObject = {\n        name: newName,\n        number: newNumber\n      }\n      dbAction.create(PersonObject)    \n      .then(response => {      \n        console.log(response)\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNuber('')\n        setMessage(`'${PersonObject.name}' was added`)        \n        setTimeout(() => {          \n          setMessage(null)        \n        }, 5000)     \n      })\n      .catch(error => {\n        // this is the way to access the error message\n        setMessage(error.response.data.error)\n        setTimeout(() => {          \n          setMessage(null)        \n        }, 5000)  \n      })\n    }\n}\n\n  const removeName = (id) => {\n    if (window.confirm(`Do you really want to delete ${persons.find(person => person.id===id).name}?`)) { \n      dbAction.remove(id)    \n      .then(response => {      \n        console.log(response)\n        setPersons(persons.filter(person => person.id!==id))    \n      })\n    }\n    else console.log(\"nothing happened\")\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNuber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n   setTerm(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SearchField searchTerm={searchTerm} handleSearch={handleSearch} />\n      <h2>Add a new entry</h2>\n      <PersonForm \n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Message message={message} />\n      <Numbers persons={persons} searchTerm={searchTerm} removeName={removeName}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}